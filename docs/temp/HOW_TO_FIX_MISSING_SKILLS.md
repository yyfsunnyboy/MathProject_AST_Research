# 如何修復缺失的技能 (Skill) 程式碼檔案

本文件說明如何使用專案內建的自動化腳本 `create_missing_skill_files.py` 來一次性補齊所有在資料庫中有紀錄、但在檔案系統中缺失的技能 `.py` 檔案。

## 問題背景

當您在儀表板上看到某個技能，但點擊後出現 `No module named 'skills.some_skill_name'` 的錯誤時，這代表該技能的資料存在於資料庫中，但其對應的題目生成程式碼檔案 (`skills/some_skill_name.py`) 缺失了。

## 使用自動化腳本修復

專案中已包含一個名為 `create_missing_skill_files.py` 的腳本，它可以自動完成以下任務：
1.  從資料庫撈出**所有**已註冊的技能 ID。
2.  檢查 `skills/` 資料夾下有哪些 `.py` 檔案。
3.  找出存在於資料庫、但**缺少**對應 `.py` 檔案的技能 ID。
4.  針對每一個缺失的技能，自動呼叫程式碼生成器為其創建對應的模板檔案。

### 如何使用此腳本

1.  打開您專案的終端機 (command line / terminal)。
2.  執行以下指令：
    ```bash
    python create_missing_skill_files.py
    ```
3.  腳本將會自動開始比對資料庫和檔案系統，並為所有缺失的技能生成對應的 `.py` 檔案。您會在終端機上看到詳細的執行過程和結果。

---

### **【重要提示】關於 `GEMINI_API_KEY` 的錯誤**

這個腳本在執行時需要初始化應用程式，因此**它也需要讀取到 `GEMINI_API_KEY` 這個環境變數**。

如果您執行腳本時看到類似以下的錯誤：
`ValueError: 請設定 GEMINI_API_KEY 環境變數！`

請您依照以下步驟解決：
1.  在您的專案根目錄中，找到名為 `.env` 的檔案 (如果沒有，可以新建一個)。
2.  確保檔案中包含 `GEMINI_API_KEY` 的設定，並填入您自己的金鑰。格式如下：
    ```
    # .env 檔案內容範例
    GEMINI_API_KEY="AIzaSyC...您的金鑰..."
    ```
3.  儲存 `.env` 檔案。
4.  完成後，重新執行修復腳本：
    ```bash
    python create_missing_skill_files.py
    ```

---

執行此腳本後，您所有因檔案缺失導致的問題都將得到解決。新生成的檔案會包含可運行的基礎模板，後續開發者可以再針對具體的題目內容對這些模板檔案進行擴充和修改。
